" <https://github.com/halkn/dotfiles/blob/master/.vim/vimrc>
" <https://github.com/janlazo/dotvim8/blob/master/shared.vim>
" <https://github.com/cocopon/dotfiles/blob/main/.vimrc>

" Normally this if-block is not needed, because `:set nocp` is done
" automatically when .vimrc is found. However, this might be useful
" when you execute `vim -u .vimrc` from the command line.
if &compatible
  " :set nocompatible should not be executed twice to avoid side effects
  set nocompatible
endif

" let $vim_config_dir = expand('<sfile>:p:h')
let $vim_config_dir = $HOME .. (has('win32') ? '/vimfiles' : '/.vim')
let $vim_cache_dir = expand('$HOME/.cache/vim')

" [Vim files]
" :echo undofile({name})
" :swap
set viminfofile=$vim_cache_dir/viminfo
set noswapfile                  " Swap file is not suitable for big files
set undofile
set undodir=$vim_cache_dir/undo
" call mkdir(&undodir, "p")

if empty(glob($vim_config_dir .. '/autoload/plug.vim'))
  silent execute '!curl -fLo ' .. $vim_config_dir .. '/autoload/plug.vim --create-dirs  https://raw.fastgit.org/junegunn/vim-plug/master/plug.vim'
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

" vim-plug will set `g:plug_home` to it
call plug#begin('~/.cache/vim/plugged')
  " [Theme]
  Plug 'morhetz/gruvbox'
  Plug 'ryanoasis/vim-devicons'

  " [Motion]
  Plug 'justinmk/vim-sneak'
  Plug 'haya14busa/vim-asterisk'
  Plug 'bkad/CamelCaseMotion'
  " Plug 'wellle/targets.vim'
  Plug 'unblevable/quick-scope'
  Plug 'andymass/vim-matchup'

  " [Change]
  Plug 'tpope/vim-surround'
  Plug 'tpope/vim-abolish'
  Plug 'tpope/vim-repeat'
  Plug 'kana/vim-textobj-user'
  Plug 'kana/vim-textobj-entire'
  " Plug 'tommcdo/vim-exchange'
  " -- Comment
  Plug 'tpope/vim-commentary'
  " Plug 'preservim/nerdcommenter'
  " Plug 'tyru/caw.vim'
  Plug 'mg979/vim-visual-multi'
  Plug 'junegunn/vim-easy-align'

  " [Vim]
  Plug 'tpope/vim-scriptease'
  Plug 'sheerun/vim-polyglot'

  Plug 'itchyny/lightline.vim'
call plug#end()

set bg=dark
colorscheme gruvbox

" Search
set hlsearch
set ignorecase
set incsearch
set smartcase

set wildmenu
set completeopt=menu,menuone,noinsert,noselect
